<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libttak: include/ttak/mem_tree/mem_tree.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libttak<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance Atomic, Threading, and Multi-precision Math Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('mem__tree_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">mem_tree.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Include dependency graph for mem_tree.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mem__tree_8h__incl.png" border="0" usemap="#ainclude_2ttak_2mem__tree_2mem__tree_8h" loading="lazy" alt=""/></div>
<map name="ainclude_2ttak_2mem__tree_2mem__tree_8h" id="ainclude_2ttak_2mem__tree_2mem__tree_8h">
<area shape="rect" title=" " alt="" coords="153,5,323,50"/>
<area shape="rect" title=" " alt="" coords="5,98,79,126"/>
<area shape="poly" title=" " alt="" coords="187,53,88,94,86,89,185,48"/>
<area shape="rect" title=" " alt="" coords="103,98,173,126"/>
<area shape="poly" title=" " alt="" coords="213,52,167,90,164,86,210,48"/>
<area shape="rect" title=" " alt="" coords="197,98,279,126"/>
<area shape="poly" title=" " alt="" coords="241,50,241,82,235,82,235,50"/>
<area shape="rect" title=" " alt="" coords="302,98,400,126"/>
<area shape="poly" title=" " alt="" coords="269,48,322,86,319,91,266,53"/>
<area shape="rect" title=" " alt="" coords="424,98,508,126"/>
<area shape="poly" title=" " alt="" coords="299,48,416,90,415,95,298,53"/>
</map>
</div>
</div>
<p><a href="mem__tree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:ttak_5Fmem_5Fnode" id="r_ttak_5Fmem_5Fnode"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__mem__node.html">ttak_mem_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a node in the generic heap tree, tracking a dynamically allocated memory block.  <a href="structttak__mem__node.html#details">More...</a><br /></td></tr>
<tr class="memitem:ttak_5Fmem_5Ftree" id="r_ttak_5Fmem_5Ftree"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__mem__tree.html">ttak_mem_tree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the collection of dynamically allocated memory blocks as a mem tree.  <a href="structttak__mem__tree.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa9f7129a1849cc78030b371254a60a77" id="r_aa9f7129a1849cc78030b371254a60a77"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structttak__mem__node.html">ttak_mem_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a></td></tr>
<tr class="memdesc:aa9f7129a1849cc78030b371254a60a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a node in the generic heap tree, tracking a dynamically allocated memory block.  <br /></td></tr>
<tr class="memitem:a247fb2ceb1803d4d3ad077d0785cc858" id="r_a247fb2ceb1803d4d3ad077d0785cc858"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structttak__mem__tree.html">ttak_mem_tree</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a></td></tr>
<tr class="memdesc:a247fb2ceb1803d4d3ad077d0785cc858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the collection of dynamically allocated memory blocks as a mem tree.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a886b8c79113ee78c206e16bfbf73c677" id="r_a886b8c79113ee78c206e16bfbf73c677"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a886b8c79113ee78c206e16bfbf73c677">ttak_mem_tree_init</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree)</td></tr>
<tr class="memdesc:a886b8c79113ee78c206e16bfbf73c677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new mem tree instance.  <br /></td></tr>
<tr class="memitem:a4b6933d1bc2b4582826465605c4376c2" id="r_a4b6933d1bc2b4582826465605c4376c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b6933d1bc2b4582826465605c4376c2">ttak_mem_tree_destroy</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree)</td></tr>
<tr class="memdesc:a4b6933d1bc2b4582826465605c4376c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the mem tree, freeing all remaining allocated memory blocks and stopping the cleanup thread.  <br /></td></tr>
<tr class="memitem:a829c009bd70438fe7468683c3cbc3222" id="r_a829c009bd70438fe7468683c3cbc3222"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a829c009bd70438fe7468683c3cbc3222">ttak_mem_tree_add</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, void *ptr, size_t size, uint64_t expires_tick, _Bool is_root)</td></tr>
<tr class="memdesc:a829c009bd70438fe7468683c3cbc3222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new memory block to be tracked by the mem tree.  <br /></td></tr>
<tr class="memitem:a42638152eb455b0d7f23e964f946c8df" id="r_a42638152eb455b0d7f23e964f946c8df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42638152eb455b0d7f23e964f946c8df">ttak_mem_tree_remove</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, <a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *node)</td></tr>
<tr class="memdesc:a42638152eb455b0d7f23e964f946c8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a memory block from the mem tree and frees it.  <br /></td></tr>
<tr class="memitem:af7a4426bfe47e5a396b851845d14af2d" id="r_af7a4426bfe47e5a396b851845d14af2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a4426bfe47e5a396b851845d14af2d">ttak_mem_node_acquire</a> (<a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *node)</td></tr>
<tr class="memdesc:af7a4426bfe47e5a396b851845d14af2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the reference count for a given mem node.  <br /></td></tr>
<tr class="memitem:aac7ffebbd2335f8acaab651abdd02633" id="r_aac7ffebbd2335f8acaab651abdd02633"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac7ffebbd2335f8acaab651abdd02633">ttak_mem_node_release</a> (<a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *node)</td></tr>
<tr class="memdesc:aac7ffebbd2335f8acaab651abdd02633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count for a given mem node.  <br /></td></tr>
<tr class="memitem:a4dbe96bbd56762d5d53af8f2179d6759" id="r_a4dbe96bbd56762d5d53af8f2179d6759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dbe96bbd56762d5d53af8f2179d6759">ttak_mem_tree_set_cleanup_interval</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, uint64_t interval_ns)</td></tr>
<tr class="memdesc:a4dbe96bbd56762d5d53af8f2179d6759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the interval for automatic memory cleanup.  <br /></td></tr>
<tr class="memitem:aa0c98b14defb177dc3873e04a23a872c" id="r_aa0c98b14defb177dc3873e04a23a872c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0c98b14defb177dc3873e04a23a872c">ttak_mem_tree_set_manual_cleanup</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, _Bool manual_cleanup_enabled)</td></tr>
<tr class="memdesc:aa0c98b14defb177dc3873e04a23a872c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the manual cleanup flag.  <br /></td></tr>
<tr class="memitem:a4ec6c7de2748fc8090db6fc273b9f7f9" id="r_a4ec6c7de2748fc8090db6fc273b9f7f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ec6c7de2748fc8090db6fc273b9f7f9">ttak_mem_tree_perform_cleanup</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, uint64_t now)</td></tr>
<tr class="memdesc:a4ec6c7de2748fc8090db6fc273b9f7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a manual cleanup pass, freeing expired and unreferenced memory blocks.  <br /></td></tr>
<tr class="memitem:a46caf44d87353e948b1b34132ecb2531" id="r_a46caf44d87353e948b1b34132ecb2531"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46caf44d87353e948b1b34132ecb2531">ttak_mem_tree_find_node</a> (<a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *tree, void *ptr)</td></tr>
<tr class="memdesc:a46caf44d87353e948b1b34132ecb2531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a mem node associated with a given memory pointer.  <br /></td></tr>
</table>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="aa9f7129a1849cc78030b371254a60a77" name="aa9f7129a1849cc78030b371254a60a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9f7129a1849cc78030b371254a60a77">&#9670;&#160;</a></span>ttak_mem_node_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structttak__mem__node.html">ttak_mem_node</a> <a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a node in the generic heap tree, tracking a dynamically allocated memory block. </p>
<p>Each node stores metadata about a memory allocation, including its pointer, size, expiration time, and reference count. It also includes flags for managing its lifecycle within the heap tree and a mutex for thread-safe access. </p>

</div>
</div>
<a id="a247fb2ceb1803d4d3ad077d0785cc858" name="a247fb2ceb1803d4d3ad077d0785cc858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247fb2ceb1803d4d3ad077d0785cc858">&#9670;&#160;</a></span>ttak_mem_tree_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structttak__mem__tree.html">ttak_mem_tree</a> <a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manages the collection of dynamically allocated memory blocks as a mem tree. </p>
<p>This structure provides a centralized mechanism for tracking memory allocations, their interdependencies (via reference counts), and their lifetimes. It supports automatic cleanup of expired or unreferenced blocks and allows for manual control over the cleanup process. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="af7a4426bfe47e5a396b851845d14af2d" name="af7a4426bfe47e5a396b851845d14af2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a4426bfe47e5a396b851845d14af2d">&#9670;&#160;</a></span>ttak_mem_node_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_node_acquire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>node</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the reference count for a given mem node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the mem node. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac7ffebbd2335f8acaab651abdd02633" name="aac7ffebbd2335f8acaab651abdd02633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7ffebbd2335f8acaab651abdd02633">&#9670;&#160;</a></span>ttak_mem_node_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_node_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>node</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements the reference count for a given mem node. </p>
<p>If the reference count drops to zero and the node has expired, it may be marked for cleanup or immediately freed depending on the mem tree's policy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the mem node. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a829c009bd70438fe7468683c3cbc3222" name="a829c009bd70438fe7468683c3cbc3222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829c009bd70438fe7468683c3cbc3222">&#9670;&#160;</a></span>ttak_mem_tree_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> * ttak_mem_tree_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>expires_tick</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool</td>          <td class="paramname"><span class="paramname"><em>is_root</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new memory block to be tracked by the mem tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to the allocated memory block. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the allocated memory block. </td></tr>
    <tr><td class="paramname">expires_tick</td><td>Monotonic tick when this memory block should expire. </td></tr>
    <tr><td class="paramname">is_root</td><td>True if this is a root node (externally referenced). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the newly created mem node, or NULL on failure. </dd></dl>

</div>
</div>
<a id="a4b6933d1bc2b4582826465605c4376c2" name="a4b6933d1bc2b4582826465605c4376c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b6933d1bc2b4582826465605c4376c2">&#9670;&#160;</a></span>ttak_mem_tree_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the mem tree, freeing all remaining allocated memory blocks and stopping the cleanup thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the <a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858" title="Manages the collection of dynamically allocated memory blocks as a mem tree.">ttak_mem_tree_t</a> structure to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46caf44d87353e948b1b34132ecb2531" name="a46caf44d87353e948b1b34132ecb2531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46caf44d87353e948b1b34132ecb2531">&#9670;&#160;</a></span>ttak_mem_tree_find_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> * ttak_mem_tree_find_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds a mem node associated with a given memory pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">ptr</td><td>The memory pointer to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the found mem node, or NULL if not found. </dd></dl>

</div>
</div>
<a id="a886b8c79113ee78c206e16bfbf73c677" name="a886b8c79113ee78c206e16bfbf73c677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a886b8c79113ee78c206e16bfbf73c677">&#9670;&#160;</a></span>ttak_mem_tree_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new mem tree instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the <a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858" title="Manages the collection of dynamically allocated memory blocks as a mem tree.">ttak_mem_tree_t</a> structure to initialize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ec6c7de2748fc8090db6fc273b9f7f9" name="a4ec6c7de2748fc8090db6fc273b9f7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec6c7de2748fc8090db6fc273b9f7f9">&#9670;&#160;</a></span>ttak_mem_tree_perform_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_perform_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>now</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a manual cleanup pass, freeing expired and unreferenced memory blocks. </p>
<p>This function is typically called when automatic cleanup is disabled or when an immediate cleanup is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">now</td><td>Current monotonic tick. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42638152eb455b0d7f23e964f946c8df" name="a42638152eb455b0d7f23e964f946c8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42638152eb455b0d7f23e964f946c8df">&#9670;&#160;</a></span>ttak_mem_tree_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa9f7129a1849cc78030b371254a60a77">ttak_mem_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>node</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a memory block from the mem tree and frees it. </p>
<p>This function should only be called when the memory block is no longer referenced and its lifetime has expired, or when explicitly forced.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">node</td><td>Pointer to the mem node to remove and free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4dbe96bbd56762d5d53af8f2179d6759" name="a4dbe96bbd56762d5d53af8f2179d6759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dbe96bbd56762d5d53af8f2179d6759">&#9670;&#160;</a></span>ttak_mem_tree_set_cleanup_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_set_cleanup_interval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>interval_ns</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the interval for automatic memory cleanup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">interval_ns</td><td>The new cleanup interval in nanoseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0c98b14defb177dc3873e04a23a872c" name="aa0c98b14defb177dc3873e04a23a872c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c98b14defb177dc3873e04a23a872c">&#9670;&#160;</a></span>ttak_mem_tree_set_manual_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttak_mem_tree_set_manual_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a247fb2ceb1803d4d3ad077d0785cc858">ttak_mem_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool</td>          <td class="paramname"><span class="paramname"><em>manual_cleanup_enabled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the manual cleanup flag. </p>
<p>When set to true, automatic cleanup is disabled, and memory must be freed manually.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the mem tree. </td></tr>
    <tr><td class="paramname">manual_cleanup_enabled</td><td>True to enable manual cleanup, false to enable automatic. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="dir_7a2c8205fba441b5c418ae46ad48eaae.html">ttak</a></li><li class="navelem"><a href="dir_3f165ad7d97b7c2da68be738ba0c6d27.html">mem_tree</a></li><li class="navelem"><a href="mem__tree_8h.html">mem_tree.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
