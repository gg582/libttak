\doxysection{include/ttak/atomic/atomic.h File Reference}
\hypertarget{atomic_8h}{}\label{atomic_8h}\index{include/ttak/atomic/atomic.h@{include/ttak/atomic/atomic.h}}
{\ttfamily \#include $<$ttak/ht/hash.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
Include dependency graph for atomic.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{atomic_8h__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structttak__func__wrapper}{ttak\+\_\+func\+\_\+wrapper}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{atomic_8h_a936cad8f41d4d318d5e60a991dfff062}{\+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+ATOMIC\+\_\+\+\_\+}}~1
\begin{DoxyCompactList}\small\item\em Wrapper structure for atomic function execution. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{atomic_8h_a797e4888f6ba7e620a9d9afd3a533483}{\+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+ASYNC\+\_\+\+\_\+}}~2
\item 
\#define \mbox{\hyperlink{atomic_8h_aed92dea3feb49ca6753cc5ba00c538db}{\+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+THREADED\+\_\+\+\_\+}}~3
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{atomic_8h_a37a39e5ffd47a8c7afba57d3cdf6f788}{ttak\+\_\+generic\+\_\+func\+\_\+t}}) (void)
\begin{DoxyCompactList}\small\item\em Generic function pointer type. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structttak__func__wrapper}{ttak\+\_\+func\+\_\+wrapper}} \mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}}
\item 
typedef \mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \mbox{\hyperlink{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48}{tt\+\_\+func\+\_\+wr\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Shortened alias for \doxylink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{atomic_8h_acdd90f8d5acb37a06a350a71aa5876d0}{ttak\+\_\+atomic\+\_\+read64}} (uint64\+\_\+t \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Atomic operations for uint64\+\_\+t. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{atomic_8h_a7dbb2165cfeeb97aa18698125af4c95b}{ttak\+\_\+atomic\+\_\+write64}} (uint64\+\_\+t \texorpdfstring{$\ast$}{*}ptr, uint64\+\_\+t val)
\item 
uint64\+\_\+t \mbox{\hyperlink{atomic_8h_a2cbc7b3501bd3aac0bae8995f3f2efd0}{ttak\+\_\+atomic\+\_\+inc64}} (uint64\+\_\+t \texorpdfstring{$\ast$}{*}ptr)
\item 
\+\_\+\+Bool \mbox{\hyperlink{atomic_8h_a52a4af1733d936d7991c868f37e85fc8}{tt\+\_\+func\+\_\+has\+\_\+expired}} (\mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \texorpdfstring{$\ast$}{*}wr, uint64\+\_\+t now)
\begin{DoxyCompactList}\small\item\em Check tt\+\_\+func\+\_\+wrapper has expired. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{atomic_8h_aa8c8e784da856951cb1f07f0e009e34f}{func\+\_\+wrapper\+\_\+init}} (\mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \texorpdfstring{$\ast$}{*}wr, uint64\+\_\+t now)
\begin{DoxyCompactList}\small\item\em initialize tt\+\_\+func\+\_\+wrapper. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{atomic_8h_a89133290d76526074f7fc534d092154d}{atomic\+\_\+function\+\_\+execute}} (\mbox{\hyperlink{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48}{tt\+\_\+func\+\_\+wr\+\_\+t}} \texorpdfstring{$\ast$}{*}f, uint64\+\_\+t now)
\begin{DoxyCompactList}\small\item\em Executes a function atomically using the provided wrapper. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{atomic_8h_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{atomic_8h_a797e4888f6ba7e620a9d9afd3a533483}\index{atomic.h@{atomic.h}!\_\_TT\_FUNC\_ASYNC\_\_@{\_\_TT\_FUNC\_ASYNC\_\_}}
\index{\_\_TT\_FUNC\_ASYNC\_\_@{\_\_TT\_FUNC\_ASYNC\_\_}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{\_\_TT\_FUNC\_ASYNC\_\_}{\_\_TT\_FUNC\_ASYNC\_\_}}
{\footnotesize\ttfamily \label{atomic_8h_a797e4888f6ba7e620a9d9afd3a533483} 
\#define \+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+ASYNC\+\_\+\+\_\+~2}



Definition at line \mbox{\hyperlink{atomic_8h_source_l00025}{25}} of file \mbox{\hyperlink{atomic_8h_source}{atomic.\+h}}.

\Hypertarget{atomic_8h_a936cad8f41d4d318d5e60a991dfff062}\index{atomic.h@{atomic.h}!\_\_TT\_FUNC\_ATOMIC\_\_@{\_\_TT\_FUNC\_ATOMIC\_\_}}
\index{\_\_TT\_FUNC\_ATOMIC\_\_@{\_\_TT\_FUNC\_ATOMIC\_\_}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{\_\_TT\_FUNC\_ATOMIC\_\_}{\_\_TT\_FUNC\_ATOMIC\_\_}}
{\footnotesize\ttfamily \label{atomic_8h_a936cad8f41d4d318d5e60a991dfff062} 
\#define \+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+ATOMIC\+\_\+\+\_\+~1}



Wrapper structure for atomic function execution. 



Definition at line \mbox{\hyperlink{atomic_8h_source_l00024}{24}} of file \mbox{\hyperlink{atomic_8h_source}{atomic.\+h}}.

\Hypertarget{atomic_8h_aed92dea3feb49ca6753cc5ba00c538db}\index{atomic.h@{atomic.h}!\_\_TT\_FUNC\_THREADED\_\_@{\_\_TT\_FUNC\_THREADED\_\_}}
\index{\_\_TT\_FUNC\_THREADED\_\_@{\_\_TT\_FUNC\_THREADED\_\_}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{\_\_TT\_FUNC\_THREADED\_\_}{\_\_TT\_FUNC\_THREADED\_\_}}
{\footnotesize\ttfamily \label{atomic_8h_aed92dea3feb49ca6753cc5ba00c538db} 
\#define \+\_\+\+\_\+\+TT\+\_\+\+FUNC\+\_\+\+THREADED\+\_\+\+\_\+~3}



Definition at line \mbox{\hyperlink{atomic_8h_source_l00026}{26}} of file \mbox{\hyperlink{atomic_8h_source}{atomic.\+h}}.



\label{doc-typedef-members}
\Hypertarget{atomic_8h_doc-typedef-members}
\doxysubsection{Typedef Documentation}
\Hypertarget{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48}\index{atomic.h@{atomic.h}!tt\_func\_wr\_t@{tt\_func\_wr\_t}}
\index{tt\_func\_wr\_t@{tt\_func\_wr\_t}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{tt\_func\_wr\_t}{tt\_func\_wr\_t}}
{\footnotesize\ttfamily \label{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48} 
typedef \mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \mbox{\hyperlink{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48}{tt\+\_\+func\+\_\+wr\+\_\+t}}}



Shortened alias for \doxylink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}. 



Definition at line \mbox{\hyperlink{atomic_8h_source_l00052}{52}} of file \mbox{\hyperlink{atomic_8h_source}{atomic.\+h}}.

\Hypertarget{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}\index{atomic.h@{atomic.h}!ttak\_func\_wrapper\_t@{ttak\_func\_wrapper\_t}}
\index{ttak\_func\_wrapper\_t@{ttak\_func\_wrapper\_t}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{ttak\_func\_wrapper\_t}{ttak\_func\_wrapper\_t}}
{\footnotesize\ttfamily \label{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90} 
typedef struct \mbox{\hyperlink{structttak__func__wrapper}{ttak\+\_\+func\+\_\+wrapper}} \mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}}}

\Hypertarget{atomic_8h_a37a39e5ffd47a8c7afba57d3cdf6f788}\index{atomic.h@{atomic.h}!ttak\_generic\_func\_t@{ttak\_generic\_func\_t}}
\index{ttak\_generic\_func\_t@{ttak\_generic\_func\_t}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{ttak\_generic\_func\_t}{ttak\_generic\_func\_t}}
{\footnotesize\ttfamily \label{atomic_8h_a37a39e5ffd47a8c7afba57d3cdf6f788} 
typedef void(\texorpdfstring{$\ast$}{*} ttak\+\_\+generic\+\_\+func\+\_\+t) (void)}



Generic function pointer type. 



Definition at line \mbox{\hyperlink{atomic_8h_source_l00012}{12}} of file \mbox{\hyperlink{atomic_8h_source}{atomic.\+h}}.



\label{doc-func-members}
\Hypertarget{atomic_8h_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{atomic_8h_a89133290d76526074f7fc534d092154d}\index{atomic.h@{atomic.h}!atomic\_function\_execute@{atomic\_function\_execute}}
\index{atomic\_function\_execute@{atomic\_function\_execute}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{atomic\_function\_execute()}{atomic\_function\_execute()}}
{\footnotesize\ttfamily \label{atomic_8h_a89133290d76526074f7fc534d092154d} 
void \texorpdfstring{$\ast$}{*} atomic\+\_\+function\+\_\+execute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{atomic_8h_a4d9636cc0652ce6208ce2d9b44b24c48}{tt\+\_\+func\+\_\+wr\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{f}{, }\item[{uint64\+\_\+t}]{now}{}\end{DoxyParamCaption})}



Executes a function atomically using the provided wrapper. 


\begin{DoxyParams}{Parameters}
{\em f} & Pointer to the function wrapper. \\
\hline
{\em now} & Current tick count. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the return value. 
\end{DoxyReturn}
\Hypertarget{atomic_8h_aa8c8e784da856951cb1f07f0e009e34f}\index{atomic.h@{atomic.h}!func\_wrapper\_init@{func\_wrapper\_init}}
\index{func\_wrapper\_init@{func\_wrapper\_init}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{func\_wrapper\_init()}{func\_wrapper\_init()}}
{\footnotesize\ttfamily \label{atomic_8h_aa8c8e784da856951cb1f07f0e009e34f} 
void func\+\_\+wrapper\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{wr}{, }\item[{uint64\+\_\+t}]{now}{}\end{DoxyParamCaption})}



initialize tt\+\_\+func\+\_\+wrapper. 

\Hypertarget{atomic_8h_a52a4af1733d936d7991c868f37e85fc8}\index{atomic.h@{atomic.h}!tt\_func\_has\_expired@{tt\_func\_has\_expired}}
\index{tt\_func\_has\_expired@{tt\_func\_has\_expired}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{tt\_func\_has\_expired()}{tt\_func\_has\_expired()}}
{\footnotesize\ttfamily \label{atomic_8h_a52a4af1733d936d7991c868f37e85fc8} 
\+\_\+\+Bool tt\+\_\+func\+\_\+has\+\_\+expired (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{atomic_8h_a9afd1a0a270b79c8b529c847deee8b90}{ttak\+\_\+func\+\_\+wrapper\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{wr}{, }\item[{uint64\+\_\+t}]{now}{}\end{DoxyParamCaption})}



Check tt\+\_\+func\+\_\+wrapper has expired. 

\Hypertarget{atomic_8h_a2cbc7b3501bd3aac0bae8995f3f2efd0}\index{atomic.h@{atomic.h}!ttak\_atomic\_inc64@{ttak\_atomic\_inc64}}
\index{ttak\_atomic\_inc64@{ttak\_atomic\_inc64}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{ttak\_atomic\_inc64()}{ttak\_atomic\_inc64()}}
{\footnotesize\ttfamily \label{atomic_8h_a2cbc7b3501bd3aac0bae8995f3f2efd0} 
uint64\+\_\+t ttak\+\_\+atomic\+\_\+inc64 (\begin{DoxyParamCaption}\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}

\Hypertarget{atomic_8h_acdd90f8d5acb37a06a350a71aa5876d0}\index{atomic.h@{atomic.h}!ttak\_atomic\_read64@{ttak\_atomic\_read64}}
\index{ttak\_atomic\_read64@{ttak\_atomic\_read64}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{ttak\_atomic\_read64()}{ttak\_atomic\_read64()}}
{\footnotesize\ttfamily \label{atomic_8h_acdd90f8d5acb37a06a350a71aa5876d0} 
uint64\+\_\+t ttak\+\_\+atomic\+\_\+read64 (\begin{DoxyParamCaption}\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



Atomic operations for uint64\+\_\+t. 

\Hypertarget{atomic_8h_a7dbb2165cfeeb97aa18698125af4c95b}\index{atomic.h@{atomic.h}!ttak\_atomic\_write64@{ttak\_atomic\_write64}}
\index{ttak\_atomic\_write64@{ttak\_atomic\_write64}!atomic.h@{atomic.h}}
\doxysubsubsection{\texorpdfstring{ttak\_atomic\_write64()}{ttak\_atomic\_write64()}}
{\footnotesize\ttfamily \label{atomic_8h_a7dbb2165cfeeb97aa18698125af4c95b} 
void ttak\+\_\+atomic\+\_\+write64 (\begin{DoxyParamCaption}\item[{uint64\+\_\+t \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{uint64\+\_\+t}]{val}{}\end{DoxyParamCaption})}

